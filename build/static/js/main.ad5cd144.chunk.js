(this["webpackJsonpreact-expense-app"]=this["webpackJsonpreact-expense-app"]||[]).push([[0],{24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(7),r=a.n(s),i=a(17),c=a.n(i),o=(a(24),a(25),a(8)),l=a(9),h=a(11),d=a(10),p=(a(26),a(18).a.initializeApp({apiKey:"AIzaSyDNyBBwzatb-CJUriBeFwMmX7YE12kVueI",authDomain:"expensetracker-app123.firebaseapp.com",projectId:"expensetracker-app123",storageBucket:"expensetracker-app123.appspot.com",messagingSenderId:"853790456612",appId:"1:853790456612:web:1420680a36a7587e14d1b1",databaseURL:"https://expensetracker-app123-default-rtdb.asia-southeast1.firebasedatabase.app/"})),u=a(13),j=(a(31),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={email:"",password:"",fireErrors:""},e.login=function(t){t.preventDefault(),p.auth().signInWithEmailAndPassword(e.state.email,e.state.password).catch((function(t){e.setState({fireErrors:t.message})}))},e.handleChange=function(t){e.setState(Object(u.a)({},t.target.name,t.target.value))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.fireErrors?Object(n.jsxs)("div",{className:"Error",children:[" ",this.state.fireErrors," "]}):null;return Object(n.jsxs)(n.Fragment,{children:[e,Object(n.jsxs)("form",{children:[Object(n.jsx)("input",{type:"text",className:"regField",placeholder:"Email",value:this.state.email,onChange:this.handleChange,name:"email"}),Object(n.jsx)("input",{className:"regField",placeholder:"Pasword",value:this.state.password,onChange:this.handleChange,name:"password",type:"password"}),Object(n.jsx)("input",{className:"submitBtn",type:"submit",onClick:this.login,value:"ENTER"})]})]})}}]),a}(s.Component)),m=(a(32),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={email:"",password:"",displayName:"",fireErrors:""},e.register=function(t){t.preventDefault(),p.auth().createUserWithEmailAndPassword(e.state.email,e.state.password).then((function(t){p.auth().currentUser.updateProfile({displayName:e.state.displayName})})).catch((function(t){e.setState({fireErrors:t.message})}))},e.handleChange=function(t){e.setState(Object(u.a)({},t.target.name,t.target.value))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.fireErrors?Object(n.jsxs)("div",{className:"Error",children:[" ",this.state.fireErrors," "]}):null;return Object(n.jsxs)(n.Fragment,{children:[e,Object(n.jsxs)("form",{children:[Object(n.jsx)("input",{type:"text",className:"regField",placeholder:"Your Name",value:this.state.displayName,onChange:this.handleChange,name:"displayName"}),Object(n.jsx)("input",{type:"text",className:"regField",placeholder:"Email",value:this.state.email,onChange:this.handleChange,name:"email"}),Object(n.jsx)("input",{className:"regField",placeholder:"Pasword",value:this.state.password,onChange:this.handleChange,name:"password",type:"password"}),Object(n.jsx)("input",{className:"submitBtn",type:"submit",onClick:this.register,value:"REGISTER"})]})]})}}]),a}(s.Component)),b=a.p+"static/media/loader.1bcd0c30.gif",O=(a(33),function(e){return Object(n.jsxs)("li",{children:[Object(n.jsx)("div",{children:e.date}),Object(n.jsx)("div",{children:e.name}),Object(n.jsx)("div",{children:e.method}),Object(n.jsx)("div",{children:"deposit"===e.type?Object(n.jsxs)("span",{className:"deposit",children:[" +",e.price," "]}):Object(n.jsxs)("span",{className:"expense",children:["-",e.price]})})]})}),v=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={transactions:[],money:0,dated:"",transactionName:"",transactionType:"",paymentType:"",price:"",currentUID:p.auth().currentUser.uid},e.logout=function(){p.auth().signOut()},e.handleChange=function(t){return function(a){e.setState(Object(u.a)({},t,"0"!==a.target.value?a.target.value:""))}},e.addNewTransaction=function(){var t=e.state,a=t.dated,n=t.transactionName,s=t.transactionType,r=t.paymentType,i=t.price,c=t.currentUID,o=t.money;if(a&&n&&s&&r&&i){var l=e.state.transactions;l.push({id:l.length+1,date:a,name:n,type:s,method:r,price:i,user_id:c}),p.database().ref("Transactions/"+c).push({id:l.length,date:a,name:n,type:s,method:r,price:i,user_id:c}).then((function(t){console.log("success callback"),e.setState({transactions:l,money:"deposit"===s?o+parseFloat(i):o-parseFloat(i),dated:"",transactionName:"",transactionType:"",paymentType:"",price:""})})).catch((function(e){console.log("error ",e)}))}},e}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var e=this,t=this.state,a=t.currentUID,n=t.money,s=this.state.transactions;p.database().ref("Transactions/"+a).once("value",(function(t){t.forEach((function(e){n="deposit"===e.val().type?parseFloat(e.val().price)+n:n-parseFloat(e.val().price),s.push({id:e.val().id,date:e.val().date,name:e.val().name,type:e.val().type,method:e.val().method,price:e.val().price,user_id:e.val().user_id})})),e.setState({transactions:s,money:n})}))}},{key:"render",value:function(){var e=this,t=p.auth().currentUser;return Object(n.jsxs)("div",{className:"trackerBlock",children:[Object(n.jsxs)("div",{className:"welcome",children:[Object(n.jsxs)("span",{children:["Hi, ",t.displayName,"!"]}),Object(n.jsx)("button",{className:"exit",onClick:this.logout,children:"Exit"})]}),Object(n.jsxs)("div",{className:"totalMoney",children:["Rs.",this.state.money]}),Object(n.jsx)("div",{className:"newTransactionBlock",children:Object(n.jsxs)("div",{className:"newTransaction",children:[Object(n.jsxs)("form",{children:[Object(n.jsx)("input",{onChange:this.handleChange("dated"),value:this.state.dated,placeholder:"Date",type:"date",name:"dated"}),Object(n.jsx)("input",{onChange:this.handleChange("transactionName"),value:this.state.transactionName,placeholder:"Transaction Name",type:"text",name:"transactionName"}),Object(n.jsxs)("div",{className:"inputGroup",children:[Object(n.jsxs)("select",{name:"type",onChange:this.handleChange("transactionType"),value:this.state.transactionType,children:[Object(n.jsx)("option",{value:"0",children:"Type"}),Object(n.jsx)("option",{value:"expense",children:"Expense"}),Object(n.jsx)("option",{value:"deposit",children:"Deposit"})]}),Object(n.jsx)("input",{onChange:this.handleChange("price"),value:this.state.price,placeholder:"Price",type:"text",name:"price"})]}),Object(n.jsx)("div",{className:"inputGroup",children:Object(n.jsxs)("select",{name:"method",onChange:this.handleChange("paymentType"),value:this.state.paymentType,children:[Object(n.jsx)("option",{value:"0",children:"Method"}),Object(n.jsx)("option",{value:"GPpay",children:"GPay"}),Object(n.jsx)("option",{value:"PhonePe",children:"PhonePe"}),Object(n.jsx)("option",{value:"PayTM",children:"PayTM"}),Object(n.jsx)("option",{value:"Cash",children:"Cash"}),Object(n.jsx)("option",{value:"Online",children:"Online"})]})})]}),Object(n.jsx)("button",{onClick:function(){return e.addNewTransaction()},className:"addTransaction",children:"+ Add Transaction"})]})}),Object(n.jsxs)("div",{className:"latestTransactions",children:[Object(n.jsx)("p",{children:"Latest Transactions"}),Object(n.jsx)("ul",{children:Object.keys(this.state.transactions).map((function(t){return Object(n.jsx)(O,{date:e.state.transactions[t].date,type:e.state.transactions[t].type,method:e.state.transactions[t].method,name:e.state.transactions[t].name,price:e.state.transactions[t].price},t)}))})]})]})}}]),a}(s.Component),x=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={user:1,loading:!0},e.formSwitcher=function(t){e.setState({formSwitcher:"register"===t})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;p.auth().onAuthStateChanged((function(t){t?e.setState({user:t}):e.setState({user:null})}))}},{key:"render",value:function(){var e=this,t=this.state.formSwitcher?Object(n.jsx)(m,{}):Object(n.jsx)(j,{});return 1===this.state.user?Object(n.jsx)("div",{className:"mainBlock",children:Object(n.jsx)("div",{className:"Spinner",children:Object(n.jsx)("img",{src:b,alt:"Spinner",className:"ImgSpinner"})})}):Object(n.jsx)(n.Fragment,{children:this.state.user?Object(n.jsx)(v,{}):Object(n.jsxs)("div",{className:"mainBlock",children:[t,this.state.formSwitcher?Object(n.jsxs)("span",{className:"underLine",children:["Have an account already? ",Object(n.jsx)("button",{onClick:function(){return e.formSwitcher(e.state.formSwitcher?"login":"register")},className:"linkBtn",children:"Sign in here"})]}):Object(n.jsxs)("span",{className:"underLine",children:["Not registered? ",Object(n.jsx)("button",{onClick:function(){return e.formSwitcher(e.state.formSwitcher?"login":"register")},className:"linkBtn",children:"Create an account"})]})]})})}}]),a}(s.Component);var f=function(){return Object(n.jsx)(x,{})};c.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(f,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.ad5cd144.chunk.js.map